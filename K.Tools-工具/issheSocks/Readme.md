
[TOC]

issheSocks
---

# 当前进度
* 实现代理——整个流程跑通。

# 下一步
* 协议设计，考虑：
  * 首包解析协议头还是每包都解析；（也就是固定添加协议头部还是只是开始添加）
  * 协议A：只解析首包
  * 协议B：解析所有包
  * 顺便把支持多协议实现了
* 加密
* 重构，整合成一个框架+多个角色
  * 仔细考虑函数/变量命名/目录结构等规则
    * in/out
    * src/
      * iproxy/irelay/isocks/ixxx
  * 考虑Makefile——项目构建。
  * 支持：多角色多进程
  * 例如：同时支持proxy和socks_parser两个角色，每个能开3个处理进程
* 学习TLS1.3协议/GCM模式等，考虑新的协议。
* Log
  * 区分角色吗？
* json解析：配置解析
* UDP支持
  * TCP比较简单，先实现了TCP。
  * 后面主要使用UDP，至于可靠性，后面再考虑


# 项目目的
* 快速学习隧道/代理相关知识，为下一步学习内网穿透/UDP打洞、UDP事务做准备。
* 增加自身对网络编程的认识；后续实现一个http服务器

# 要求
* 虽然是学习，但是还是要尽量完善，能作为一个拿得出手的个人作品。

# 需求
> 实现时选择实现

* 基本功能：科学上网
  * 全局：优先级高
  * 局部：优先级低
* 加密及协议头部设计
* 模块化LOG
* 改用内存池（参考nginx）
* 动态端口：
  * 动态管理端口：协商服务
  * 动态工作端口：数据传输
* 用户标识：ID(自动)/用户名(自定义)
* 同时支持TCP+UDP
* 可靠UDP
* 服务伪装
* 内网穿透
* 统计功能
* 限速


# 阶段
* 阶段1
  * 实现最简单版本

* 阶段2
  * 协议握手混淆
  * 给写出增加可靠性