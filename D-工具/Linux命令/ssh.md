[TOC]


ssh
---


# 隧道

场景：家里内网机器 A 想要访问公司的内网机器 B。
条件：需要一个公网机器 C （假设IP是 1.1.1.1）。

* 打开公网机器的转发

* 在 B 上执行:

```bash
ssh -p 22 -NR 0.0.0.0:10443:0.0.0.0:443 root@1.1.1.1
# 前面部分 0.0.0.0:10443：C 的信息
# 后面部分 0.0.0.0:443：B 的信息
```

* 在 A 上执行:

```bash
ssh -p 22 -NL 0.0.0.0:10443:0.0.0.0:10443 root@1.1.1.1
# 前面部分 0.0.0.0:10443：A 的信息
# 后面部分 0.0.0.0:10443：C 的信息
```

此时，在 A 上通过 localhost:10443 即可访问 B 的 443。


## 端口