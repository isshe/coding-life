[TOC]


# SQL注入
## 原理
如果程序根据用户的输入来动态生成SQL语句并执行，黑客可通过传入恶意参数值注入自己定义的语句，使数据库执行任意指令，实现数据窃取或入侵破坏。

## 安全威胁
* 拖库、敏感信息泄露；
* 数据被篡改、删除；
* 数据库主机服务器被入侵；

## 漏洞场景
* 所有接收用户输入参数并进行数据库操作的场景。
* 除了select/insert、也必须警惕拼接参数使用like/having/group by/order by/limited/offset等子句场景，必须进行过滤转义。

## 防护方法
* 使用预编译语句+绑定变量。
  * 通过使用占位符，保持查询语句和数据相分离。
  * 参数值与已编译的语句相结合，而不是SQL字符串。
* 当实在是有like/having/group by/limited/offset等动态查询时，才考虑白名单输入过滤、转义等方法。
* 弱类型语言，使用变量之前声明变量类型。


# 疑问
* 什么是垂直越权？什么是水平越权？