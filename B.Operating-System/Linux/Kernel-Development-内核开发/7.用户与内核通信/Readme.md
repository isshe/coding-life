
# 用户空间与内核的接口
记录用户空间应用程序与内核通信或读取内核信息的主要机制。

## 1. 概论
除了请求特定信息的系统调用外，还有以下几个方式可用于把内核信息输出到用户空间：
* procfs: /proc文件系统。
    * 允许内核以文件的形式向用户空间输出信息。这是一个虚拟文件系统，通常挂载在`/proc`。
* sysctl: /proc/sys目录。
    * 允许用户空间读取或修改内核变量的值。
* sysfs: /sys文件系统。
    * 《Linux设备驱动程序》中可以找到对sysfs的详尽分析。
* Netlink套接字(socket)
    * 这是网络应用程序与内核通信时最新的`首选机制`。

## 2. 选择
* procfs和sysctl的选择，主要依赖于有多少信息应该输出。
    * 与简单内核变量或数据结构相关联的一些文件，可以用sysctl输出。
    * 更为复杂的数据结构且需要特殊格式时，就以procfs输出。
